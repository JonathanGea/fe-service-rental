<div class="mx-auto flex w-full max-w-6xl flex-col gap-14 px-6 pb-28 pt-10 sm:pt-14">
  <section class="relative">
    <div class="relative overflow-hidden rounded-3xl border border-public bg-public-surface px-6 py-8 shadow-sm sm:px-10 sm:py-10">
      <div class="grid items-center gap-6 lg:grid-cols-[1.1fr_0.9fr] lg:gap-8">
        <div>
          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-public-primary/70">Rental Kendaraan</p>
          <h1 class="mt-3 text-3xl font-semibold leading-tight text-public-strong sm:text-4xl lg:text-5xl">
            Rental Cars
          </h1>
          <p class="mt-3 max-w-lg text-base text-public-strong/80 sm:text-lg">
            Pilih kendaraan favorit Anda dari koleksi terbaru, cek ketersediaan, dan pesan langsung via WhatsApp.
          </p>
          <div class="mt-5 flex flex-wrap items-center gap-3">
            <a
              href="#fleet"
              class="rounded-full bg-public-primary px-6 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-public-primary-hover"
            >
              Lihat Kendaraan
            </a>
            <a
              href="#how-it-works"
              class="rounded-full border border-public bg-white px-6 py-2.5 text-sm font-semibold text-public-strong/80 transition hover:text-public-primary"
            >
              Cara Sewa
            </a>
          </div>
        </div>
        <div class="relative order-last lg:order-none">
          <div class="absolute -right-6 top-8 hidden h-32 w-32 rounded-full bg-public-primary/10 blur-3xl lg:block"></div>
          <div class="rounded-3xl border border-public bg-public-surface-subtle p-5 shadow-sm sm:p-6">
            <div class="flex h-44 items-center justify-center rounded-2xl border border-public bg-white sm:h-52 lg:h-56">
              <i
                class="fa-solid fa-car-side text-6xl text-public-primary sm:text-7xl"
                aria-hidden="true"
              ></i>
            </div>
            <div class="mt-4 grid grid-cols-3 gap-3 text-xs text-public-strong/80">
              <div class="flex items-center justify-center gap-2 rounded-2xl border border-public bg-white px-3 py-2 shadow-sm">
                <i class="fa-solid fa-headset text-base text-public-primary" aria-hidden="true"></i>
                24/7 Support
              </div>
              <div class="flex items-center justify-center gap-2 rounded-2xl border border-public bg-white px-3 py-2 shadow-sm">
                <i class="fa-solid fa-credit-card text-base text-public-primary" aria-hidden="true"></i>
                Tanpa DP
              </div>
              <div class="flex items-center justify-center gap-2 rounded-2xl border border-public bg-white px-3 py-2 shadow-sm">
                <i class="fa-solid fa-shield-halved text-base text-public-primary" aria-hidden="true"></i>
                Asuransi
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="-mt-6 px-4 sm:px-8">
      <div class="mx-auto grid w-full max-w-4xl gap-4 rounded-3xl border border-public bg-white p-5 shadow-sm sm:grid-cols-[1.2fr_1fr_1fr_auto] sm:items-end">
        <div class="space-y-2">
          <label class="text-xs font-semibold uppercase tracking-[0.2em] text-public-muted">Location</label>
          <div class="relative">
            <span class="pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-public-primary">
              <i class="fa-solid fa-location-dot text-base" aria-hidden="true"></i>
            </span>
            <input
              type="text"
              placeholder="Bandung"
              class="w-full rounded-2xl border border-public bg-public-surface-subtle py-3 pl-9 pr-4 text-sm text-public-strong outline-none placeholder:text-public-muted/80"
            />
          </div>
        </div>
        <div class="space-y-2">
          <label class="text-xs font-semibold uppercase tracking-[0.2em] text-public-muted">Pickup Date</label>
          <div class="relative">
            <span class="pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-public-primary">
              <i class="fa-solid fa-calendar-days text-base" aria-hidden="true"></i>
            </span>
            <input
              type="date"
              class="w-full rounded-2xl border border-public bg-public-surface-subtle py-3 pl-9 pr-4 text-sm text-public-strong outline-none"
            />
          </div>
        </div>
        <div class="space-y-2">
          <label class="text-xs font-semibold uppercase tracking-[0.2em] text-public-muted">Return Date</label>
          <div class="relative">
            <span class="pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-public-primary">
              <i class="fa-solid fa-calendar-check text-base" aria-hidden="true"></i>
            </span>
            <input
              type="date"
              class="w-full rounded-2xl border border-public bg-public-surface-subtle py-3 pl-9 pr-4 text-sm text-public-strong outline-none"
            />
          </div>
        </div>
        <button class="h-12 rounded-2xl bg-public-primary px-6 text-sm font-semibold text-white shadow-sm transition hover:bg-public-primary-hover sm:h-[46px]">
          Search
        </button>
      </div>
    </div>
  </section>

  <section id="fleet" class="scroll-mt-24">
    <div class="flex flex-wrap items-center justify-between gap-4">
      <div>
        <p class="text-xs font-semibold uppercase tracking-[0.3em] text-public-primary/70">Koleksi Kendaraan</p>
        <h2 class="mt-3 text-3xl font-semibold text-public-strong">Pilih kendaraan sesuai kebutuhan</h2>
      </div>
      <div class="flex flex-wrap gap-2 rounded-full border border-public bg-white px-2 py-2 text-xs font-semibold text-public-muted">
        <button
          type="button"
          class="rounded-full px-4 py-2 transition"
          *ngFor="let status of statusFilters"
          [ngClass]="
            selectedStatus === status
              ? 'bg-public-primary text-white'
              : 'hover:text-public-primary'
          "
          (click)="selectStatus(status)"
        >
          {{ status }}
        </button>
      </div>
    </div>

    <div class="mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3" *ngIf="!isLoading && !errorMessage">
      <article
        class="rounded-3xl border border-public bg-white p-5 shadow-sm"
        *ngFor="let vehicle of filteredVehicles"
      >
        <div class="relative flex h-40 items-center justify-center overflow-hidden rounded-2xl border border-public bg-public-surface-subtle">
          <ng-container *ngIf="vehicle.thumbnailUrl; else vehicleIcon">
            <img
              [src]="vehicle.thumbnailUrl"
              [alt]="vehicle.name"
              class="h-full w-full object-cover"
              loading="lazy"
            />
          </ng-container>
          <ng-template #vehicleIcon>
            <i class="fa-solid fa-car-side text-5xl text-public-primary" aria-hidden="true"></i>
          </ng-template>
          <span
            class="absolute left-4 top-4 rounded-full px-3 py-1 text-xs font-semibold"
            [ngClass]="getStatusBadgeClass(vehicle.status)"
          >
            {{ formatStatus(vehicle.status) }}
          </span>
        </div>
        <div class="mt-4">
          <h3 class="text-lg font-semibold text-public-strong">{{ vehicle.name }}</h3>
          <p class="text-sm text-public-muted">Status: {{ formatStatus(vehicle.status) }}</p>
          <ng-container *ngIf="vehicle.nextAvailableDate; else availableNow">
            <p class="mt-2 text-xs text-public-muted">
              Tersedia mulai {{ vehicle.nextAvailableDate | date: 'dd MMM yyyy' }}
            </p>
          </ng-container>
          <ng-template #availableNow>
            <p class="mt-2 text-xs text-public-muted">Tersedia hari ini</p>
          </ng-template>
          <div class="mt-4 flex items-center justify-between">
            <span class="text-lg font-semibold text-public-strong">Rp {{ vehicle.pricePerDay | number }}</span>
            <span class="text-xs text-public-muted">per hari</span>
          </div>
          <a
            class="mt-4 inline-flex w-full items-center justify-center rounded-2xl px-4 py-2 text-sm font-semibold transition"
            [ngClass]="
              isAvailable(vehicle.status)
                ? 'bg-public-primary text-white hover:bg-public-primary-hover'
                : 'border border-public bg-white text-public-strong/80 hover:text-public-primary'
            "
            [attr.href]="buildWhatsAppLink(vehicle.name)"
          >
            {{ isAvailable(vehicle.status) ? 'Pesan via WhatsApp' : 'Hubungi untuk info' }}
          </a>
        </div>
      </article>
    </div>

    <div class="mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3" *ngIf="isLoading">
      <div class="h-72 animate-pulse rounded-3xl border border-public bg-public-surface-subtle"></div>
      <div class="h-72 animate-pulse rounded-3xl border border-public bg-public-surface-subtle"></div>
      <div class="h-72 animate-pulse rounded-3xl border border-public bg-public-surface-subtle"></div>
    </div>

    <div
      class="mt-8 rounded-3xl border border-public bg-white px-6 py-8 text-center text-sm text-public-muted"
      *ngIf="!isLoading && !errorMessage && filteredVehicles.length === 0"
    >
      Data kendaraan belum tersedia untuk kategori ini.
    </div>

    <div
      class="mt-8 rounded-3xl border border-red-200 bg-red-50 px-6 py-4 text-center text-sm text-red-600"
      *ngIf="!isLoading && errorMessage"
    >
      {{ errorMessage }}
    </div>
  </section>

  <section id="how-it-works" class="grid gap-6 rounded-3xl border border-public bg-white p-8 shadow-sm sm:grid-cols-3">
    <div>
      <p class="text-xs font-semibold uppercase tracking-[0.3em] text-public-primary/70">Cara Sewa</p>
      <h2 class="mt-3 text-3xl font-semibold text-public-strong">Cepat, jelas, dan praktis</h2>
    </div>
    <div class="rounded-2xl border border-public bg-public-surface-subtle p-5">
      <div class="text-sm font-semibold text-public-strong">1. Pilih Kendaraan</div>
      <p class="mt-2 text-sm text-public-muted">Gunakan search card untuk pilih lokasi, tanggal, dan kategori.</p>
    </div>
    <div class="rounded-2xl border border-public bg-public-surface-subtle p-5">
      <div class="text-sm font-semibold text-public-strong">2. Cek Ketersediaan</div>
      <p class="mt-2 text-sm text-public-muted">Lihat status dan tanggal available pada setiap kendaraan.</p>
    </div>
    <div class="rounded-2xl border border-public bg-public-surface-subtle p-5">
      <div class="text-sm font-semibold text-public-strong">3. Pesan via WhatsApp</div>
      <p class="mt-2 text-sm text-public-muted">Klik tombol pesan dan tim kami siap membantu Anda.</p>
    </div>
  </section>

  <section id="faq" class="rounded-3xl border border-public bg-white p-8 shadow-sm">
    <div class="flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between">
      <div>
        <p class="text-xs font-semibold uppercase tracking-[0.3em] text-public-primary/70">FAQ</p>
        <h2 class="mt-3 text-3xl font-semibold text-public-strong">Pertanyaan yang sering diajukan</h2>
      </div>
      <a
        class="rounded-full border border-public bg-white px-5 py-2 text-sm font-semibold text-public-muted transition hover:text-public-primary"
        href="https://wa.me/628123456789?text=Halo%20saya%20ingin%20tanya%20rental%20kendaraan"
      >
        Hubungi Kami
      </a>
    </div>
    <div class="mt-6 grid gap-4 sm:grid-cols-2">
      <div class="rounded-2xl border border-public bg-public-surface-subtle p-4">
        <div class="text-sm font-semibold text-public-strong">Apakah bisa sewa harian?</div>
        <p class="mt-2 text-sm text-public-muted">Bisa, pilih tanggal pickup dan return untuk sewa harian.</p>
      </div>
      <div class="rounded-2xl border border-public bg-public-surface-subtle p-4">
        <div class="text-sm font-semibold text-public-strong">Bagaimana jika kendaraan sedang dirental?</div>
        <p class="mt-2 text-sm text-public-muted">Lihat info tanggal available pada kartu kendaraan.</p>
      </div>
      <div class="rounded-2xl border border-public bg-public-surface-subtle p-4">
        <div class="text-sm font-semibold text-public-strong">Apakah ada layanan sopir?</div>
        <p class="mt-2 text-sm text-public-muted">Sampaikan kebutuhan Anda di pesan WhatsApp.</p>
      </div>
      <div class="rounded-2xl border border-public bg-public-surface-subtle p-4">
        <div class="text-sm font-semibold text-public-strong">Metode pembayaran?</div>
        <p class="mt-2 text-sm text-public-muted">Kami menerima transfer bank dan pembayaran digital.</p>
      </div>
    </div>
  </section>
</div>

<nav
  class="fixed bottom-4 inset-x-4 z-50 flex items-center justify-between rounded-full border border-public bg-white/90 px-4 py-3 text-xs font-semibold text-public-muted shadow-sm backdrop-blur md:hidden"
  aria-label="Bottom Navigation"
>
  <a class="rounded-full bg-public-primary px-4 py-2 text-white" href="#">Home</a>
  <a class="rounded-full px-4 py-2 hover:text-public-primary" href="#fleet">Kendaraan</a>
  <a class="rounded-full px-4 py-2 hover:text-public-primary" href="#how-it-works">Cara Sewa</a>
  <a class="rounded-full px-4 py-2 hover:text-public-primary" href="#faq">FAQ</a>
</nav>
