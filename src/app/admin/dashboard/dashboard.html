<section class="space-y-8">
  <header class="space-y-2">
    <h2 class="text-2xl font-semibold text-strong">Dashboard</h2>
    <p class="text-sm text-strong/70">Ringkasan status kendaraan dan akses cepat ke modul admin.</p>
  </header>

  <div class="rounded-2xl border border-default bg-surface p-6 shadow-sm">
    <div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
      <div>
        <h3 class="text-lg font-semibold text-strong">Status Armada</h3>
        <p class="text-xs text-strong/60">Data diambil dari endpoint kendaraan terbaru.</p>
      </div>
      <button
        type="button"
        class="inline-flex items-center gap-2 rounded-xl border border-default px-4 py-2 text-xs font-semibold text-strong transition hover:text-primary"
        (click)="loadSummary()"
        [disabled]="isLoading"
      >
        <i class="fa-solid fa-rotate-right text-base" aria-hidden="true"></i>
        <span>Refresh</span>
      </button>
    </div>

    <div class="mt-6 grid gap-4 sm:grid-cols-2 xl:grid-cols-4" *ngIf="!isLoading">
      <div class="rounded-2xl border border-default bg-app p-4">
        <p class="text-xs uppercase text-strong/50">Total Kendaraan</p>
        <p class="mt-2 text-2xl font-semibold text-strong">{{ summary.total }}</p>
      </div>
      <div class="rounded-2xl border border-default bg-app p-4">
        <p class="text-xs uppercase text-strong/50">Available</p>
        <p class="mt-2 text-2xl font-semibold text-strong">{{ summary.available }}</p>
      </div>
      <div class="rounded-2xl border border-default bg-app p-4">
        <p class="text-xs uppercase text-strong/50">Rented</p>
        <p class="mt-2 text-2xl font-semibold text-strong">{{ summary.rented }}</p>
      </div>
      <div class="rounded-2xl border border-default bg-app p-4">
        <p class="text-xs uppercase text-strong/50">Maintenance</p>
        <p class="mt-2 text-2xl font-semibold text-strong">{{ summary.maintenance }}</p>
      </div>
    </div>

    <div class="mt-6 grid gap-4 sm:grid-cols-2 xl:grid-cols-4" *ngIf="isLoading">
      <div class="h-24 animate-pulse rounded-2xl border border-default bg-app"></div>
      <div class="h-24 animate-pulse rounded-2xl border border-default bg-app"></div>
      <div class="h-24 animate-pulse rounded-2xl border border-default bg-app"></div>
      <div class="h-24 animate-pulse rounded-2xl border border-default bg-app"></div>
    </div>

    <div
      class="mt-6 rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-xs text-red-600"
      *ngIf="!isLoading && errorMessage"
    >
      {{ errorMessage }}
    </div>

    <div
      class="mt-6 rounded-2xl border border-default bg-app px-4 py-6 text-center text-sm text-strong/70"
      *ngIf="!isLoading && !errorMessage && summary.total === 0"
    >
      Belum ada data kendaraan untuk dirangkum.
    </div>
  </div>

  <div class="grid gap-6 lg:grid-cols-2">
    <div class="rounded-2xl border border-default bg-surface p-6 shadow-sm">
      <h3 class="text-lg font-semibold text-strong">Quick Links</h3>
      <p class="mt-1 text-xs text-strong/60">Akses cepat ke modul yang sering digunakan.</p>
      <div class="mt-4 grid gap-3">
        <a
          routerLink="/admin/vehicles"
          class="flex items-center justify-between rounded-xl border border-default bg-app px-4 py-3 text-sm font-semibold text-strong transition hover:text-primary"
        >
          <span>Kelola Kendaraan</span>
          <i class="fa-solid fa-arrow-right text-base" aria-hidden="true"></i>
        </a>
        <a
          routerLink="/admin/rentals"
          class="flex items-center justify-between rounded-xl border border-default bg-app px-4 py-3 text-sm font-semibold text-strong transition hover:text-primary"
        >
          <span>Kelola Rental</span>
          <i class="fa-solid fa-arrow-right text-base" aria-hidden="true"></i>
        </a>
      </div>
    </div>

    <div class="rounded-2xl border border-default bg-surface p-6 shadow-sm">
      <h3 class="text-lg font-semibold text-strong">Status Breakdown</h3>
      <p class="mt-1 text-xs text-strong/60">Persentase ketersediaan berdasarkan total armada.</p>
      <div class="mt-4 space-y-4">
        <div>
          <div class="flex items-center justify-between text-xs text-strong/70">
            <span>Available</span>
            <span>{{ (summary.total ? (summary.available / summary.total * 100) : 0) | number }}%</span>
          </div>
          <div class="mt-2 h-2 rounded-full bg-app">
            <div
              class="h-full rounded-full bg-primary"
              [ngStyle]="{ width: summary.total ? (summary.available / summary.total * 100) + '%' : '0%' }"
            ></div>
          </div>
        </div>
        <div>
          <div class="flex items-center justify-between text-xs text-strong/70">
            <span>Rented</span>
            <span>{{ (summary.total ? (summary.rented / summary.total * 100) : 0) | number }}%</span>
          </div>
          <div class="mt-2 h-2 rounded-full bg-app">
            <div
              class="h-full rounded-full bg-primary/60"
              [ngStyle]="{ width: summary.total ? (summary.rented / summary.total * 100) + '%' : '0%' }"
            ></div>
          </div>
        </div>
        <div>
          <div class="flex items-center justify-between text-xs text-strong/70">
            <span>Maintenance</span>
            <span>{{ (summary.total ? (summary.maintenance / summary.total * 100) : 0) | number }}%</span>
          </div>
          <div class="mt-2 h-2 rounded-full bg-app">
            <div
              class="h-full rounded-full bg-primary/40"
              [ngStyle]="{ width: summary.total ? (summary.maintenance / summary.total * 100) + '%' : '0%' }"
            ></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
